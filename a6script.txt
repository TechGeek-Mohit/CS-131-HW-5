---Note that '#' is used for comments---
#Check the files for tweets that are relied_to
vi downloaded_tweets_extend_original_nolf2.tsv
vi downloaded_tweets_extend_nolf2.tsv
ls
echo "Assignment 5"
grep "replied_to" downloaded_tweets_extend_original_nolf2.tsv | head -n 100
grep "replied_to" downloaded_tweets_extend_nolf2.tsv | head -n 
#Check for replies
fgrep replied_to downloaded_tweets_extend_original_nolf2.tsv > replied_tweets_original.txt
fgrep replied_to downloaded_tweets_extend_nolf2.tsv > replied_tweets.txt
#Finding cluster of replies
awk -F "\t" '($2 != $6) {print $6}' replied_tweets.tsv | sort | uniq -c | sort -n -k 1 | awk '($1 >=3) {print $2}' >> replied_cluster.txt
mkdir cluster_replies
#clearning the cluster with unwanted punctuation using sed script (shown by professor in class)
for INFL in `cat replied_cluster` ; do grep $INFL replied_tweets_og.tsv replied_tweets.tsv | awk -F "\t"  '{print $4}' | | sed "s/\"//g" > cluster_replies/$INFL.hashtags ; done
#Get the cluster of retweets that are more than 3
vi replied_tweets_orginal.txt
cut -f 5 downloaded_tweets_extend_nolf2.tsv | grep "retweeted" | sed 's/^.* id=//g' | sed 's/ type=retweeted.//g >> id_of_retweeted_Users.txt
grep -iFf id_of_retweeted_Users.txt downloaded_tweets_extend_original_nolf2.tsv > retweeted_tweets.tsv
#Finding cluster of replies
awk -F "\t" '($2 != $6) {print $6}' retweete_tweets.tsv | sort | uniq -c | sort -n -k 1 | awk '($1 >=3) {print $2}' > retweets_cluster.txt
mkdir cluster_retweets
for INFL in `cat retweets_cluster.txt` ; do grep $INFL retweeted_tweets.tsv | awk -F "\t"  '{print $4}' | tr "," "\n" | sed "s/\"//g" > infl_rts/$INFL.hashtags ; done
